(function(){
'use strict';var $jscomp={scope:{},getGlobal:function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global?global:f}};$jscomp.global=$jscomp.getGlobal(this);$jscomp.initSymbol=function(){$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol);$jscomp.initSymbol=function(){}};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(f){return"jscomp_symbol_"+f+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();$jscomp.global.Symbol.iterator||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));$jscomp.initSymbolIterator=function(){}};
$jscomp.makeIterator=function(f){$jscomp.initSymbolIterator();if(f[$jscomp.global.Symbol.iterator])return f[$jscomp.global.Symbol.iterator]();if(!(f instanceof Array||"string"==typeof f||f instanceof String))throw new TypeError(f+" is not iterable");var d=0;return{next:function(){return d==f.length?{done:!0}:{done:!1,value:f[d++]}}}};$jscomp.arrayFromIterator=function(f){for(var d,a=[];!(d=f.next()).done;)a.push(d.value);return a};
$jscomp.arrayFromIterable=function(f){return f instanceof Array?f:$jscomp.arrayFromIterator($jscomp.makeIterator(f))};$jscomp.arrayFromArguments=function(f){for(var d=[],a=0;a<f.length;a++)d.push(f[a]);return d};
$jscomp.inherits=function(f,d){function a(){}a.prototype=d.prototype;f.prototype=new a;f.prototype.constructor=f;for(var b in d)if($jscomp.global.Object.defineProperties){var c=$jscomp.global.Object.getOwnPropertyDescriptor(d,b);void 0!==c&&$jscomp.global.Object.defineProperty(f,b,c)}else f[b]=d[b]};
(function(f){function d(b){if(a[b])return a[b].exports;var c=a[b]={exports:{},id:b,loaded:!1};f[b].call(c.exports,c,c.exports,d);c.loaded=!0;return c.exports}var a={};d.m=f;d.c=a;d.p="";return d(0)})([function(f,d,a){window.mongodb={};window.mongodb.MongoClient=a(1);window.mongodb.Long=a(14);window.mongodb.Binary=a(15);window.mongodb.Code=a(16);window.mongodb.DBRef=a(17);window.mongodb.Dobule=a(18);window.mongodb.MaxKey=a(19);window.mongodb.MinKey=a(20);window.mongodb.ObjectId=a(21);window.mongodb.BSONRegExp=
a(26);window.mongodb.Symbol=a(27);window.mongodb.Timestamp=a(28);window.mongodb.SocketIOTransport=a(41)},function(f,d,a){var b=a(2).Promise,c=a(31),g=a(32),n=a(14),e=a(21),h=a(33),k=a(34).deserializeFast,m=a(35),q=function(a){if(null!=a&&"object"===typeof a)for(var b in a)null!=a[b]&&a[b].$numberLong?a[b]=n.fromString(a[b].$numberLong):null!=a[b]&&a[b].$oid?a[b]=new e(a[b].$oid):null!=a[b]&&"object"===typeof a[b]&&(a[b]=q(a[b]));return a};d=function(a){this.transportFactory=a;this.store=new c};d.prototype.connect=
function(a,m,c){var e=this;this.options=c||{};this.channel=m||"mongodb";return new b(function(b,m){h(function(){function p(t,D){for(;;)switch(n){case 0:return f=e,n=1,{value:e.transportFactory.connect(a,c),done:!1};case 1:if(void 0===D){n=2;break}n=-1;throw D;case 2:d=t,f.transport=d,e.transport.onChannel(e.channel,function(a){null==a.ok||a.ok?null!=a.ok&&a.ok&&"string"==typeof a.type?e.store.update(q(a)):null!=a.ok&&a.ok&&(a.result=a.result.length?k(a.result):q(a.result),e.store.call(a._id,null,
a)):e.store.call(a._id,new g(a),void 0)}),e.transport.on("connect",function(){h(function(){function a(l,q){for(;;)switch(k){case 0:return c=e,k=1,{value:e.db("admin").command({ismaster:!0}),done:!1};case 1:if(void 0===q){k=2;break}k=-1;throw q;case 2:m=l,c.abilities=m,b(e),k=-1;default:return{value:void 0,done:!0}}}var k=0,m,c,l={next:function(b){return a(b,void 0)},throw:function(b){return a(void 0,b)}};$jscomp.initSymbolIterator();l[Symbol.iterator]=function(){return this};return l}).catch(function(a){m(a)})}),
e.transport.on("close",function(){m()}),e.transport.on("error",function(a){m(a)}),n=-1;default:return{value:void 0,done:!0}}}var n=0,d,f,C={next:function(a){return p(a,void 0)},throw:function(a){return p(void 0,a)}};$jscomp.initSymbolIterator();C[Symbol.iterator]=function(){return this};return C}).catch(function(a){m(a)})})};d.prototype.db=function(a){return new m(a,this.channel,this.transport,this.store)};f.exports=d},function(f,d,a){(function(b){function c(){v=!1;C.length?u=C.concat(u):t=-1;u.length&&
g()}function g(){if(!v){var a=setTimeout(c);v=!0;for(var b=u.length;b;){C=u;for(u=[];++t<b;)C&&C[t].run();t=-1;b=u.length}C=null;v=!1;clearTimeout(a)}}function n(a,b){this.fun=a;this.array=b}if("undefined"!==typeof window)var e=window.Promise||a(3).Promise;else"undefined"!==typeof b&&(e=b.Promise||a(3).Promise);var h=a(14),k=a(15),m=a(16),q=a(17),l=a(18),p=a(19),d=a(20),B=a(21),x=a(26),z=a(27),A=a(28),w=a(29).encode,u=[],v=!1,C,t=-1;n.prototype.run=function(){this.fun.apply(null,this.array)};var D=
function(a){var b={},c;for(c in a)if(a[c]instanceof k)b[c]={$binary:w(a[c].buffer),$type:a[c].sub_type.toString("hex")};else if(a[c]instanceof Date)b[c]={$date:a[c].toISOString()};else if(a[c]instanceof A)b[c]={$timestamp:{t:a[c].high_,i:a[c].low_}};else if(a[c]instanceof x)b[c]={$regexp:a[c].pattern,$options:a[c].options.join("")};else if(a[c]instanceof B)b[c]={$oid:a[c].toString()};else if(a[c]instanceof q)b[c]={$ref:a[c].namespace,$id:a[c].oid.toString()};else if("undefined"==a[c])b[c]={$undefined:!0};
else if(a[c]instanceof d)b[c]={$minKey:1};else if(a[c]instanceof p)b[c]={$maxKey:1};else if(a[c]instanceof h)b[c]={$numberLong:a[c].toString()};else if(a[c]instanceof m)b[c]={$code:a[c].code.toString(),$scope:D(a[c].scope)};else if(a[c]instanceof l)b[c]={$double:a[c].value};else if(a[c]instanceof z)b[c]={$symbol:a[c].value};else if(Array.isArray(a[c])){b[c]=[];for(var e=0;e<a[c].length;e++)b[c][e]=D(a[c][e])}else b[c]=null!=a[c]&&"object"==typeof a[c]?D(a[c]):a[c];return b};f.exports={Promise:e,nextTick:function(a){var b=
Array(arguments.length-1);if(1<arguments.length)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];u.push(new n(a,b));1!==u.length||v||setTimeout(g,0)},serialize:D}}).call(d,function(){return this}())},function(f,d,a){f=a(4).Promise;a=a(13).polyfill;d.Promise=f;d.polyfill=a},function(f,d,a){function b(a){if(!x(a))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof b))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");
this._subscribers=[];c(a,this)}function c(a,b){function c(a){k(b,a)}function m(a){q(b,a)}try{a(c,m)}catch(e){m(e)}}function g(a,b,c,m){var e=x(c),l,g,p,n;if(e)try{l=c(m),p=!0}catch(d){n=!0,g=d}else l=m,p=!0;h(b,l)||(e&&p?k(b,l):n?q(b,g):a===C?k(b,l):a===t&&q(b,l))}function n(a,b,c,k){a=a._subscribers;var m=a.length;a[m]=b;a[m+C]=c;a[m+t]=k}function e(a,b){for(var c,k,m=a._subscribers,e=a._detail,l=0;l<m.length;l+=3)c=m[l],k=m[l+b],g(b,c,k,e);a._subscribers=null}function h(a,b){var c=null,e;try{if(a===
b)throw new TypeError("A promises callback cannot return that same promise.");if(B(b)&&(c=b.then,x(c)))return c.call(b,function(c){if(e)return!0;e=!0;b!==c?k(a,c):m(a,c)},function(b){if(e)return!0;e=!0;q(a,b)}),!0}catch(l){if(e)return!0;q(a,l);return!0}return!1}function k(a,b){a===b?m(a,b):h(a,b)||m(a,b)}function m(a,b){a._state===u&&(a._state=v,a._detail=b,y.async(l,a))}function q(a,b){a._state===u&&(a._state=v,a._detail=b,y.async(p,a))}function l(a){e(a,a._state=C)}function p(a){e(a,a._state=t)}
var y=a(5).config;a(5);var B=a(6).objectOrFunction,x=a(6).isFunction;a(6);f=a(7).all;var z=a(8).race,A=a(9).resolve,w=a(10).reject;a=a(11).asap;y.async=a;var u=void 0,v=0,C=1,t=2;b.prototype={constructor:b,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(a,b){var c=this,k=new this.constructor(function(){});if(this._state){var m=arguments;y.async(function(){g(c._state,k,m[c._state-1],c._detail)})}else n(this,k,a,b);return k},"catch":function(a){return this.then(null,a)}};b.all=f;b.race=
z;b.resolve=A;b.reject=w;d.Promise=b},function(f,d){var a={instrument:!1};d.config=a;d.configure=function(b,c){if(2===arguments.length)a[b]=c;else return a[b]}},function(f,d){function a(a){return"function"===typeof a}var b=Date.now||function(){return(new Date).getTime()};d.objectOrFunction=function(b){return a(b)||"object"===typeof b&&null!==b};d.isFunction=a;d.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)};d.now=b},function(f,d,a){var b=a(6).isArray,c=a(6).isFunction;
d.all=function(a){if(!b(a))throw new TypeError("You must pass an array to all.");return new this(function(b,e){function h(a){return function(c){k[a]=c;0===--m&&b(k)}}var k=[],m=a.length,q;0===m&&b([]);for(var l=0;l<a.length;l++)(q=a[l])&&c(q.then)?q.then(h(l),e):(k[l]=q,0===--m&&b(k))})}},function(f,d,a){var b=a(6).isArray;d.race=function(a){if(!b(a))throw new TypeError("You must pass an array to race.");return new this(function(b,n){for(var e,h=0;h<a.length;h++)(e=a[h])&&"function"===typeof e.then?
e.then(b,n):b(e)})}},function(f,d){d.resolve=function(a){return a&&"object"===typeof a&&a.constructor===this?a:new this(function(b){b(a)})}},function(f,d){d.reject=function(a){return new this(function(b,c){c(a)})}},function(f,d,a){(function(a,c){function g(){return function(){c.nextTick(h)}}function n(){var a=0,b=new m(h),c=document.createTextNode("");b.observe(c,{characterData:!0});return function(){c.data=a=++a%2}}function e(){return function(){q.setTimeout(h,1)}}function h(){for(var a=0;a<l.length;a++){var b=
l[a];(0,b[0])(b[1])}l=[]}var k="undefined"!==typeof window?window:{},m=k.MutationObserver||k.WebKitMutationObserver,q="undefined"!==typeof a?a:void 0===this?window:this,l=[],p;p="undefined"!==typeof c&&"[object process]"==={}.toString.call(c)?g():m?n():e();d.asap=function(a,b){1===l.push([a,b])&&p()}}).call(d,function(){return this}(),a(12))},function(f,d){function a(){h=!1;k.length?e=k.concat(e):m=-1;e.length&&b()}function b(){if(!h){var b=setTimeout(a);h=!0;for(var c=e.length;c;){k=e;for(e=[];++m<
c;)k&&k[m].run();m=-1;c=e.length}k=null;h=!1;clearTimeout(b)}}function c(a,b){this.fun=a;this.array=b}function g(){}var n=f.exports={},e=[],h=!1,k,m=-1;n.nextTick=function(a){var k=Array(arguments.length-1);if(1<arguments.length)for(var m=1;m<arguments.length;m++)k[m-1]=arguments[m];e.push(new c(a,k));1!==e.length||h||setTimeout(b,0)};c.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=!0;n.env={};n.argv=[];n.version="";n.versions={};n.on=g;n.addListener=g;n.once=
g;n.off=g;n.removeListener=g;n.removeAllListeners=g;n.emit=g;n.binding=function(a){throw Error("process.binding is not supported");};n.cwd=function(){return"/"};n.chdir=function(a){throw Error("process.chdir is not supported");};n.umask=function(){return 0}},function(f,d,a){(function(b){var c=a(4).Promise,g=a(6).isFunction;d.polyfill=function(){var a;a="undefined"!==typeof b?b:"undefined"!==typeof window&&window.document?window:self;"Promise"in a&&"resolve"in a.Promise&&"reject"in a.Promise&&"all"in
a.Promise&&"race"in a.Promise&&function(){var b;new a.Promise(function(a){b=a});return g(b)}()||(a.Promise=c)}}).call(d,function(){return this}())},function(f,d){function a(b,c){if(!(this instanceof a))return new a(b,c);this._bsontype="Long";this.low_=b|0;this.high_=c|0}a.prototype.toInt=function(){return this.low_};a.prototype.toNumber=function(){return this.high_*a.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};a.prototype.toJSON=function(){return{$numberLong:this.toString()}};a.prototype.toString=
function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(a.MIN_VALUE)){var c=a.fromNumber(b),g=this.div(c),c=g.multiply(c).subtract(this);return g.toString(b)+c.toInt().toString(b)}return"-"+this.negate().toString(b)}for(var g=a.fromNumber(Math.pow(b,6)),c=this,d="";;){var e=c.div(g),h=c.subtract(e.multiply(g)).toInt().toString(b),c=e;if(c.isZero())return h+d;for(;6>h.length;)h="0"+h;d=""+h+d}};a.prototype.getHighBits=function(){return this.high_};
a.prototype.getLowBits=function(){return this.low_};a.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:a.TWO_PWR_32_DBL_+this.low_};a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var b=0!=this.high_?this.high_:this.low_,c=31;0<c&&0==(b&1<<c);c--);return 0!=this.high_?c+33:c+1};a.prototype.isZero=function(){return 0==this.high_&&0==this.low_};a.prototype.isNegative=function(){return 0>this.high_};a.prototype.isOdd=
function(){return 1==(this.low_&1)};a.prototype.equals=function(a){return this.high_==a.high_&&this.low_==a.low_};a.prototype.notEquals=function(a){return this.high_!=a.high_||this.low_!=a.low_};a.prototype.lessThan=function(a){return 0>this.compare(a)};a.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)};a.prototype.greaterThan=function(a){return 0<this.compare(a)};a.prototype.greaterThanOrEqual=function(a){return 0<=this.compare(a)};a.prototype.compare=function(a){if(this.equals(a))return 0;
var c=this.isNegative(),g=a.isNegative();return c&&!g?-1:!c&&g?1:this.subtract(a).isNegative()?-1:1};a.prototype.negate=function(){return this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)};a.prototype.add=function(b){var c=this.high_>>>16,g=this.high_&65535,d=this.low_>>>16,e=b.high_>>>16,h=b.high_&65535,k=b.low_>>>16,m;m=0+((this.low_&65535)+(b.low_&65535));b=0+(m>>>16);b+=d+k;d=0+(b>>>16);d+=g+h;g=0+(d>>>16);g=g+(c+e)&65535;return a.fromBits((b&65535)<<16|m&65535,g<<16|d&65535)};a.prototype.subtract=
function(a){return this.add(a.negate())};a.prototype.multiply=function(b){if(this.isZero()||b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?a.MIN_VALUE:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(a.TWO_PWR_24_)&&b.lessThan(a.TWO_PWR_24_))return a.fromNumber(this.toNumber()*
b.toNumber());var c=this.high_>>>16,g=this.high_&65535,d=this.low_>>>16,e=this.low_&65535,h=b.high_>>>16,k=b.high_&65535,m=b.low_>>>16;b=b.low_&65535;var q,l,p,y;y=0+e*b;p=0+(y>>>16);p+=d*b;l=0+(p>>>16);p=(p&65535)+e*m;l+=p>>>16;p&=65535;l+=g*b;q=0+(l>>>16);l=(l&65535)+d*m;q+=l>>>16;l&=65535;l+=e*k;q+=l>>>16;l&=65535;q=q+(c*b+g*m+d*k+e*h)&65535;return a.fromBits(p<<16|y&65535,q<<16|l)};a.prototype.div=function(b){if(b.isZero())throw Error("division by zero");if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE)){if(b.equals(a.ONE)||
b.equals(a.NEG_ONE))return a.MIN_VALUE;if(b.equals(a.MIN_VALUE))return a.ONE;var c=this.shiftRight(1).div(b).shiftLeft(1);if(c.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;var g=this.subtract(b.multiply(c));return c.add(g.div(b))}if(b.equals(a.MIN_VALUE))return a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().div(b.negate()):this.negate().div(b).negate();if(b.isNegative())return this.div(b.negate()).negate();for(var d=a.ZERO,g=this;g.greaterThanOrEqual(b);){for(var c=Math.max(1,
Math.floor(g.toNumber()/b.toNumber())),e=Math.ceil(Math.log(c)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),h=a.fromNumber(c),k=h.multiply(b);k.isNegative()||k.greaterThan(g);)c-=e,h=a.fromNumber(c),k=h.multiply(b);h.isZero()&&(h=a.ONE);d=d.add(h);g=g.subtract(k)}return d};a.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))};a.prototype.not=function(){return a.fromBits(~this.low_,~this.high_)};a.prototype.and=function(b){return a.fromBits(this.low_&b.low_,this.high_&b.high_)};a.prototype.or=
function(b){return a.fromBits(this.low_|b.low_,this.high_|b.high_)};a.prototype.xor=function(b){return a.fromBits(this.low_^b.low_,this.high_^b.high_)};a.prototype.shiftLeft=function(b){b&=63;if(0==b)return this;var c=this.low_;return 32>b?a.fromBits(c<<b,this.high_<<b|c>>>32-b):a.fromBits(0,c<<b-32)};a.prototype.shiftRight=function(b){b&=63;if(0==b)return this;var c=this.high_;return 32>b?a.fromBits(this.low_>>>b|c<<32-b,c>>b):a.fromBits(c>>b-32,0<=c?0:-1)};a.prototype.shiftRightUnsigned=function(b){b&=
63;if(0==b)return this;var c=this.high_;return 32>b?a.fromBits(this.low_>>>b|c<<32-b,c>>>b):32==b?a.fromBits(c,0):a.fromBits(c>>>b-32,0)};a.fromInt=function(b){if(-128<=b&&128>b){var c=a.INT_CACHE_[b];if(c)return c}c=new a(b|0,0>b?-1:0);-128<=b&&128>b&&(a.INT_CACHE_[b]=c);return c};a.fromNumber=function(b){return isNaN(b)||!isFinite(b)?a.ZERO:b<=-a.TWO_PWR_63_DBL_?a.MIN_VALUE:b+1>=a.TWO_PWR_63_DBL_?a.MAX_VALUE:0>b?a.fromNumber(-b).negate():new a(b%a.TWO_PWR_32_DBL_|0,b/a.TWO_PWR_32_DBL_|0)};a.fromBits=
function(b,c){return new a(b,c)};a.fromString=function(b,c){if(0==b.length)throw Error("number format error: empty string");var g=c||10;if(2>g||36<g)throw Error("radix out of range: "+g);if("-"==b.charAt(0))return a.fromString(b.substring(1),g).negate();if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character: '+b);for(var d=a.fromNumber(Math.pow(g,8)),e=a.ZERO,h=0;h<b.length;h+=8){var k=Math.min(8,b.length-h),m=parseInt(b.substring(h,h+k),g);8>k?(k=a.fromNumber(Math.pow(g,k)),
e=e.multiply(k).add(a.fromNumber(m))):(e=e.multiply(d),e=e.add(a.fromNumber(m)))}return e};a.INT_CACHE_={};a.TWO_PWR_16_DBL_=65536;a.TWO_PWR_24_DBL_=16777216;a.TWO_PWR_32_DBL_=a.TWO_PWR_16_DBL_*a.TWO_PWR_16_DBL_;a.TWO_PWR_31_DBL_=a.TWO_PWR_32_DBL_/2;a.TWO_PWR_48_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_16_DBL_;a.TWO_PWR_64_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_32_DBL_;a.TWO_PWR_63_DBL_=a.TWO_PWR_64_DBL_/2;a.ZERO=a.fromInt(0);a.ONE=a.fromInt(1);a.NEG_ONE=a.fromInt(-1);a.MAX_VALUE=a.fromBits(-1,2147483647);a.MIN_VALUE=
a.fromBits(0,-2147483648);a.TWO_PWR_24_=a.fromInt(16777216);f.exports=a;f.exports.Long=a},function(f,d){function a(c,g){if(!(this instanceof a))return new a(c,g);this._bsontype="Binary";this.sub_type=c instanceof Number?c:null==g?b:g;this.position=0;if(null==c||c instanceof Number)this.buffer="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(a.BUFFER_SIZE)):Array(a.BUFFER_SIZE),this.position=0;else{if("string"==typeof c)if("undefined"!=typeof Uint8Array||"[object Array]"==Object.prototype.toString.call(c)){for(var d=
"undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(c.length)):Array(c.length),e=0;e<c.length;e++)d[e]=c.charCodeAt(e);this.buffer=d}else throw Error("only String, Uint8Array or Array accepted");else this.buffer=c;this.position=c.length}}a.prototype.put=function(b){if(null!=b.length&&"number"!=typeof b&&1!=b.length)throw Error("only accepts single character String, Uint8Array or Array");if("number"!=typeof b&&0>b||255<b)throw Error("only accepts number in a valid unsigned byte range 0-255");
var g=null,g="string"==typeof b?b.charCodeAt(0):null!=b.length?b[0]:b;if(!(this.buffer.length>this.position)){b=null;b="[object Uint8Array]"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(a.BUFFER_SIZE+this.buffer.length)):Array(a.BUFFER_SIZE+this.buffer.length);for(var d=0;d<this.buffer.length;d++)b[d]=this.buffer[d];this.buffer=b}this.buffer[this.position++]=g};a.prototype.write=function(a,b){b="number"==typeof b?b:this.position;if(this.buffer.length<b+a.length){var d=
null;if("[object Uint8Array]"==Object.prototype.toString.call(this.buffer))for(var d=new Uint8Array(new ArrayBuffer(this.buffer.length+a.length)),e=0;e<this.position;e++)d[e]=this.buffer[e];this.buffer=d}if("[object Uint8Array]"==Object.prototype.toString.call(a)||"[object Array]"==Object.prototype.toString.call(a)&&"string"!=typeof a){for(e=0;e<a.length;e++)this.buffer[b++]=a[e];this.position=b>this.position?b:this.position}else if("string"==typeof a){for(e=0;e<a.length;e++)this.buffer[b++]=a.charCodeAt(e);
this.position=b>this.position?b:this.position}};a.prototype.read=function(a,b){b=b&&0<b?b:this.position;if(this.buffer.slice)return this.buffer.slice(a,a+b);for(var d="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(b)):Array(b),e=0;e<b;e++)d[e]=this.buffer[a++];return d};a.prototype.value=function(a){if(null==a?0:a){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);a="[object Uint8Array]"==Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):
Array(this.position);for(var b=0;b<this.position;b++)a[b]=this.buffer[b];return a}a=this.buffer;for(var b=this.position,d="",e=0;e<b;e++)d+=String.fromCharCode(a[e]);return d};a.prototype.length=function(){return this.position};a.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString("base64"):""};a.prototype.toString=function(a){return null!=this.buffer?this.buffer.slice(0,this.position).toString(a):""};var b=0;a.BUFFER_SIZE=256;a.SUBTYPE_DEFAULT=0;a.SUBTYPE_FUNCTION=1;a.SUBTYPE_BYTE_ARRAY=
2;a.SUBTYPE_UUID_OLD=3;a.SUBTYPE_UUID=4;a.SUBTYPE_MD5=5;a.SUBTYPE_USER_DEFINED=128;f.exports=a;f.exports.Binary=a},function(f,d){var a=function c(a,d){if(!(this instanceof c))return new c(a,d);this._bsontype="Code";this.code=a;this.scope=null==d?{}:d};a.prototype.toJSON=function(){return{scope:this.scope,code:this.code}};f.exports=a;f.exports.Code=a},function(f,d){function a(b,c,d){if(!(this instanceof a))return new a(b,c,d);this._bsontype="DBRef";this.namespace=b;this.oid=c;this.db=d}a.prototype.toJSON=
function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?"":this.db}};f.exports=a;f.exports.DBRef=a},function(f,d){function a(b){if(!(this instanceof a))return new a(b);this._bsontype="Double";this.value=b}a.prototype.valueOf=function(){return this.value};a.prototype.toJSON=function(){return this.value};f.exports=a;f.exports.Double=a},function(f,d){function a(){if(!(this instanceof a))return new a;this._bsontype="MaxKey"}f.exports=a;f.exports.MaxKey=a},function(f,d){function a(){if(!(this instanceof
a))return new a;this._bsontype="MinKey"}f.exports=a;f.exports.MinKey=a},function(f,d,a){(function(b){for(var c=a(22).BinaryParser,d=parseInt(16777215*Math.random(),10),n=/^[0-9a-fA-F]{24}$/,e=function q(a){if(!(this instanceof q))return new q(a);if(a instanceof q)return a;this._bsontype="ObjectID";var b=q.isValid(a);if(b||null==a){if(b&&"string"==typeof a&&24==a.length)return q.createFromHexString(a);null==a||"number"==typeof a?this.id=this.generate(a):null!=a&&12===a.length&&(this.id=a)}else throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
q.cacheHexString&&(this.__id=this.toHexString())},h=[],k=0;256>k;k++)h[k]=(15>=k?"0":"")+k.toString(16);e.prototype.toHexString=function(){if(e.cacheHexString&&this.__id)return this.__id;for(var a="",b=0;b<this.id.length;b++)a+=h[this.id.charCodeAt(b)];e.cacheHexString&&(this.__id=a);return a};e.prototype.get_inc=function(){return e.index=(e.index+1)%16777215};e.prototype.getInc=function(){return this.get_inc()};e.prototype.generate=function(a){"number"!=typeof a&&(a=parseInt(Date.now()/1E3,10));
a=c.encodeInt(a,32,!0,!0);var k=c.encodeInt(d,24,!1),e=c.fromShort(("undefined"===typeof b?Math.floor(1E5*Math.random()):b.pid)%65535),h=c.encodeInt(this.get_inc(),24,!1,!0);return a+k+e+h};e.prototype.toString=function(){return this.toHexString()};e.prototype.inspect=e.prototype.toString;e.prototype.toJSON=function(){return this.toHexString()};e.prototype.equals=function(a){if(null!=a&&(a instanceof e||a.toHexString))a=a.id;else if("string"==typeof a&&e.isValid(a))a=e.createFromHexString(a).id;else return!1;
return this.id===a};e.prototype.getTimestamp=function(){var a=new Date;a.setTime(1E3*Math.floor(c.decodeInt(this.id.substring(0,4),32,!0,!0)));return a};e.index=parseInt(16777215*Math.random(),10);e.createPk=function(){return new e};e.createFromTime=function(a){a=c.encodeInt(a,32,!0,!0)+c.encodeInt(0,64,!0,!0);return new e(a)};e.createFromHexString=function(a){if("undefined"===typeof a||null!=a&&24!=a.length)throw Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");
var b=a.length;if(24<b)throw Error("Id cannot be longer than 12 bytes");for(var k="",d,h=0;h<b;h+=2)d=a.substr(h,2),d=parseInt(d,16),k+=c.fromByte(d);return new e(k,a)};e.isValid=function(a){return null==a?!1:"number"==typeof a?!0:"string"==typeof a?12==a.length||24==a.length&&n.test(a):!1};Object.defineProperty(e.prototype,"generationTime",{enumerable:!0,get:function(){return Math.floor(c.decodeInt(this.id.substring(0,4),32,!0,!0))},set:function(a){a=c.encodeInt(a,32,!0,!0);this.id=a+this.id.substr(4);
this.toHexString()}});f.exports=e;f.exports.ObjectID=e;f.exports.ObjectId=e}).call(d,a(12))},function(f,d,a){(function(b){function c(a,b){if(!(this instanceof c))return new c(a,b);this.bigEndian=a;this.allowExceptions=b}function g(a,b){this.bigEndian=a||0;this.buffer=[];this.setBuffer(b)}for(var n=String.fromCharCode,e=[],h=0;64>h;h++)e[h]=Math.pow(2,h);c.warn=function(a){if(this.allowExceptions)throw Error(a);return 1};c.decodeFloat=function(a,b,c){a=new this.Buffer(this.bigEndian,a);a.checkBuffer(b+
c+1);var l=e[c-1]-1,d=a.readBits(b+c,1);c=a.readBits(b,c);var h=0,g=2,n=a.buffer.length+(-b>>3)-1;do for(var f=a.buffer[++n],A=b%8||8,w=1<<A;w>>=1;f&w&&(h+=1/g),g*=2);while(b-=A);return c==(l<<1)+1?h?NaN:d?-Infinity:Infinity:(1+-2*d)*(c||h?c?Math.pow(2,c-l)*(1+h):Math.pow(2,-l+1)*h:0)};c.decodeInt=function(a,b,c,l){a=(new this.Buffer(this.bigEndian||l,a)).readBits(0,b);b=e[b];return c&&a>=b/2?a-b:a};c.encodeFloat=function(a,b,c){var l=e[c-1]-1,d=-l+1,h=d-b,g=parseFloat(a),n=isNaN(g)||-Infinity==g||
Infinity==g?g:0,f=0,A=2*l+1+b+3;a=Array(A);var w=0>(g=0!==n?0:g),u=Math.floor(g=Math.abs(g)),v=g-u,C,t;for(t=A;t;a[--t]=0);for(t=l+2;u&&t;a[--t]=u%2,u=Math.floor(u/2));for(t=l+1;0<v&&t;(a[++t]=(1<=(v*=2))-0)&&--v);for(t=-1;++t<A&&!a[t];);if(a[(g=b-1+(t=(f=l+1-t)>=d&&f<=l?t+1:l+1-(f=d-1)))+1]){if(!(C=a[g]))for(v=g+2;!C&&v<A;C=a[v++]);for(v=g+1;C&&0<=--v;(a[v]=!a[v]-0)&&(C=0));}for(t=0>t-2?-1:t-3;++t<A&&!a[t];);(f=l+1-t)>=d&&f<=l?++t:f<d&&(f!=l+1-A&&f<h&&this.warn("encodeFloat::float underflow"),t=
l+1-(f=d-1));if(u||0!==n)this.warn(u?"encodeFloat::float overflow":"encodeFloat::"+n),f=l+1,t=l+2,-Infinity==n?w=1:isNaN(n)&&(a[t]=1);g=Math.abs(f+l);v=c+1;for(c="";--v;c=g%2+c,g=g>>=1);v=g=0;t=(c=(w?"1":"0")+c+a.slice(t,t+b).join("")).length;for(r=[];t;v=(v+1)%8)g+=(1<<v)*c.charAt(--t),7==v&&(r[r.length]=String.fromCharCode(g),g=0);r[r.length]=g?String.fromCharCode(g):"";return(this.bigEndian?r.reverse():r).join("")};c.encodeInt=function(a,b,c,d){c=e[b];if(a>=c||a<-(c/2))this.warn("encodeInt::overflow"),
a=0;0>a&&(a+=c);for(c=[];a;c[c.length]=String.fromCharCode(a%256),a=Math.floor(a/256));for(b=-(-b>>3)-c.length;b--;c[c.length]="\x00");return(this.bigEndian||d?c.reverse():c).join("")};c.toSmall=function(a){return this.decodeInt(a,8,!0)};c.fromSmall=function(a){return this.encodeInt(a,8,!0)};c.toByte=function(a){return this.decodeInt(a,8,!1)};c.fromByte=function(a){return this.encodeInt(a,8,!1)};c.toShort=function(a){return this.decodeInt(a,16,!0)};c.fromShort=function(a){return this.encodeInt(a,
16,!0)};c.toWord=function(a){return this.decodeInt(a,16,!1)};c.fromWord=function(a){return this.encodeInt(a,16,!1)};c.toInt=function(a){return this.decodeInt(a,32,!0)};c.fromInt=function(a){return this.encodeInt(a,32,!0)};c.toLong=function(a){return this.decodeInt(a,64,!0)};c.fromLong=function(a){return this.encodeInt(a,64,!0)};c.toDWord=function(a){return this.decodeInt(a,32,!1)};c.fromDWord=function(a){return this.encodeInt(a,32,!1)};c.toQWord=function(a){return this.decodeInt(a,64,!0)};c.fromQWord=
function(a){return this.encodeInt(a,64,!0)};c.toFloat=function(a){return this.decodeFloat(a,23,8)};c.fromFloat=function(a){return this.encodeFloat(a,23,8)};c.toDouble=function(a){return this.decodeFloat(a,52,11)};c.fromDouble=function(a){return this.encodeFloat(a,52,11)};c.encode_int32=function(a,b){var c,e,d,h;h=0>a?a+4294967296:a;c=Math.floor(h/16777215);h&=16777215;e=Math.floor(h/65535);h&=65535;d=Math.floor(h/255);h=Math.floor(h&255);return b?[n(c),n(e),n(d),n(h)]:n(c)+n(e)+n(d)+n(h)};c.encode_int64=
function(a){var b,c,e,h,d,g,f;f=0>a?a+1.8446744073709552E19:a;a=Math.floor(f/72057594037927936);f&=72057594037927936;b=Math.floor(f/0xffffffffffff);f&=0xffffffffffff;c=Math.floor(f/0xffffffffff);f&=0xffffffffff;e=Math.floor(f/4294967295);f&=4294967295;h=Math.floor(f/16777215);f&=16777215;d=Math.floor(f/65535);f&=65535;g=Math.floor(f/255);f=Math.floor(f&255);return n(a)+n(b)+n(c)+n(e)+n(h)+n(d)+n(g)+n(f)};c.decode_utf8=function(a){for(var b=a.length,c="",e=0,h=0,d=0,g;e<b;)h=a.charCodeAt(e),128>h?
(c+=String.fromCharCode(h),e++):191<h&&224>h?(d=a.charCodeAt(e+1),c+=String.fromCharCode((h&31)<<6|d&63),e+=2):(d=a.charCodeAt(e+1),g=a.charCodeAt(e+2),c+=String.fromCharCode((h&15)<<12|(d&63)<<6|g&63),e+=3);return c};c.encode_cstring=function(a){return unescape(encodeURIComponent(a))+c.fromByte(0)};c.encode_utf8=function(a){for(var b="",c,e=0,h=a.length;e<h;e++)c=a.charCodeAt(e),128>c?b+=String.fromCharCode(c):(127<c&&2048>c?b+=String.fromCharCode(c>>6|192):(b+=String.fromCharCode(c>>12|224),b+=
String.fromCharCode(c>>6&63|128)),b+=String.fromCharCode(c&63|128));return b};c.hprint=function(a){for(var c,e=0,h=a.length;e<h;e++)a.charCodeAt(e),c=15>=a.charCodeAt(e)?"0"+a.charCodeAt(e).toString(16):a.charCodeAt(e).toString(16),b.stdout.write(c+" ");b.stdout.write("\n\n")};c.ilprint=function(b){for(var c,e=0,h=b.length;e<h;e++)32>b.charCodeAt(e)?(c=15>=b.charCodeAt(e)?"0"+b.charCodeAt(e).toString(10):b.charCodeAt(e).toString(10),a(23).debug(c+" : ")):(c=15>=b.charCodeAt(e)?"0"+b.charCodeAt(e).toString(10):
b.charCodeAt(e).toString(10),a(23).debug(c+" : "+b.charAt(e)))};c.hlprint=function(b){for(var c,e=0,h=b.length;e<h;e++)32>b.charCodeAt(e)?(c=15>=b.charCodeAt(e)?"0"+b.charCodeAt(e).toString(16):b.charCodeAt(e).toString(16),a(23).debug(c+" : ")):(c=15>=b.charCodeAt(e)?"0"+b.charCodeAt(e).toString(16):b.charCodeAt(e).toString(16),a(23).debug(c+" : "+b.charAt(e)))};g.prototype.setBuffer=function(a){var b,c,e;if(a){c=b=a.length;for(e=this.buffer=Array(b);c;e[b-c]=a.charCodeAt(--c));this.bigEndian&&e.reverse()}};
g.prototype.hasNeededBits=function(a){return this.buffer.length>=-(-a>>3)};g.prototype.checkBuffer=function(a){if(!this.hasNeededBits(a))throw Error("checkBuffer::missing bytes");};g.prototype.readBits=function(a,b){function c(a,b){for(;b--;a=1073741824==((a%=2147483648)&1073741824)?2*a:2*(a-1073741824)+2147483648);return a}if(0>a||0>=b)return 0;this.checkBuffer(a+b);for(var e,h=a%8,d=this.buffer.length-(a>>3)-1,g=this.buffer.length+(-(a+b)>>3),f=d-g,d=(this.buffer[d]>>h&(1<<(f?8-h:b))-1)+(f&&(e=
(a+b)%8)?(this.buffer[g++]&(1<<e)-1)<<(f--<<3)-h:0);f;d+=c(this.buffer[g++],(f--<<3)-h));return d};c.Buffer=g;d.BinaryParser=c}).call(d,a(12))},function(f,d,a){(function(b,c){function g(a,b){var c={seen:[],stylize:e};3<=arguments.length&&(c.depth=arguments[2]);4<=arguments.length&&(c.colors=arguments[3]);x(b)?c.showHidden=b:b&&d._extend(c,b);w(c.showHidden)&&(c.showHidden=!1);w(c.depth)&&(c.depth=2);w(c.colors)&&(c.colors=!1);w(c.customInspect)&&(c.customInspect=!0);c.colors&&(c.stylize=f);return k(c,
a,c.depth)}function f(a,b){var c=g.styles[b];return c?"\u001b["+g.colors[c][0]+"m"+a+"\u001b["+g.colors[c][1]+"m":a}function e(a,b){return a}function h(a){var b={};a.forEach(function(a,c){b[a]=!0});return b}function k(a,b,c){if(a.customInspect&&b&&D(b.inspect)&&b.inspect!==d.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(c,a);A(e)||(e=k(a,e,c));return e}if(e=m(a,b))return e;var g=Object.keys(b),f=h(g);a.showHidden&&(g=Object.getOwnPropertyNames(b));if(t(b)&&(0<=g.indexOf("message")||
0<=g.indexOf("description")))return q(b);if(0===g.length){if(D(b))return a.stylize("[Function"+(b.name?": "+b.name:"")+"]","special");if(u(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(C(b))return a.stylize(Date.prototype.toString.call(b),"date");if(t(b))return q(b)}var e="",n=!1,x=["{","}"];B(b)&&(n=!0,x=["[","]"]);D(b)&&(e=" [Function"+(b.name?": "+b.name:"")+"]");u(b)&&(e=" "+RegExp.prototype.toString.call(b));C(b)&&(e=" "+Date.prototype.toUTCString.call(b));t(b)&&(e=" "+q(b));
if(0===g.length&&(!n||0==b.length))return x[0]+e+x[1];if(0>c)return u(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);g=n?l(a,b,c,f,g):g.map(function(e){return p(a,b,c,f,e,n)});a.seen.pop();return y(g,e,x)}function m(a,b){if(w(b))return a.stylize("undefined","undefined");if(A(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}if(z(b))return a.stylize(""+b,"number");if(x(b))return a.stylize(""+
b,"boolean");if(null===b)return a.stylize("null","null")}function q(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,e,h){for(var d=[],g=0,k=b.length;g<k;++g)Object.prototype.hasOwnProperty.call(b,String(g))?d.push(p(a,b,c,e,String(g),!0)):d.push("");h.forEach(function(h){h.match(/^\d+$/)||d.push(p(a,b,c,e,h,!0))});return d}function p(a,b,c,e,h,d){var g,m;b=Object.getOwnPropertyDescriptor(b,h)||{value:b[h]};b.get?m=b.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]",
"special"):b.set&&(m=a.stylize("[Setter]","special"));Object.prototype.hasOwnProperty.call(e,h)||(g="["+h+"]");m||(0>a.seen.indexOf(b.value)?(m=null===c?k(a,b.value,null):k(a,b.value,c-1),-1<m.indexOf("\n")&&(m=d?m.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+m.split("\n").map(function(a){return"   "+a}).join("\n"))):m=a.stylize("[Circular]","special"));if(w(g)){if(d&&h.match(/^\d+$/))return m;g=JSON.stringify(""+h);g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-
2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+m}function y(a,b,c){var e=0;return 60<a.reduce(function(a,b){e++;0<=b.indexOf("\n")&&e++;return a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0)?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function B(a){return Array.isArray(a)}function x(a){return"boolean"===typeof a}function z(a){return"number"===typeof a}function A(a){return"string"===
typeof a}function w(a){return void 0===a}function u(a){return v(a)&&"[object RegExp]"===Object.prototype.toString.call(a)}function v(a){return"object"===typeof a&&null!==a}function C(a){return v(a)&&"[object Date]"===Object.prototype.toString.call(a)}function t(a){return v(a)&&("[object Error]"===Object.prototype.toString.call(a)||a instanceof Error)}function D(a){return"function"===typeof a}function F(a){return 10>a?"0"+a.toString(10):a.toString(10)}function I(){var a=new Date,b=[F(a.getHours()),
F(a.getMinutes()),F(a.getSeconds())].join(":");return[a.getDate(),H[a.getMonth()],b].join(" ")}var J=/%[sdj%]/g;d.format=function(a){if(!A(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(g(arguments[c]));return b.join(" ")}for(var c=1,e=arguments,h=e.length,b=String(a).replace(J,function(a){if("%%"===a)return"%";if(c>=h)return a;switch(a){case "%s":return String(e[c++]);case "%d":return Number(e[c++]);case "%j":try{return JSON.stringify(e[c++])}catch(b){return"[Circular]"}default:return a}}),d=
e[c];c<h;d=e[++c])b=null!==d&&v(d)?b+(" "+g(d)):b+(" "+d);return b};d.deprecate=function(a,e){if(w(b.process))return function(){return d.deprecate(a,e).apply(this,arguments)};if(!0===c.noDeprecation)return a;var h=!1;return function(){if(!h){if(c.throwDeprecation)throw Error(e);c.traceDeprecation?console.trace(e):console.error(e);h=!0}return a.apply(this,arguments)}};var E={},G;d.debuglog=function(a){w(G)&&(G=c.env.NODE_DEBUG||"");a=a.toUpperCase();if(!E[a])if((new RegExp("\\b"+a+"\\b","i")).test(G)){var b=
c.pid;E[a]=function(){var c=d.format.apply(d,arguments);console.error("%s %d: %s",a,b,c)}}else E[a]=function(){};return E[a]};d.inspect=g;g.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};g.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"};d.isArray=B;d.isBoolean=x;d.isNull=
function(a){return null===a};d.isNullOrUndefined=function(a){return null==a};d.isNumber=z;d.isString=A;d.isSymbol=function(a){return"symbol"===typeof a};d.isUndefined=w;d.isRegExp=u;d.isObject=v;d.isDate=C;d.isError=t;d.isFunction=D;d.isPrimitive=function(a){return null===a||"boolean"===typeof a||"number"===typeof a||"string"===typeof a||"symbol"===typeof a||"undefined"===typeof a};d.isBuffer=a(24);var H="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");d.log=function(){console.log("%s - %s",
I(),d.format.apply(d,arguments))};d.inherits=a(25);d._extend=function(a,b){if(!b||!v(b))return a;for(var c=Object.keys(b),e=c.length;e--;)a[c[e]]=b[c[e]];return a}}).call(d,function(){return this}(),a(12))},function(f,d){f.exports=function(a){return a&&"object"===typeof a&&"function"===typeof a.copy&&"function"===typeof a.fill&&"function"===typeof a.readUInt8}},function(f,d){f.exports="function"===typeof Object.create?function(a,b){a.super_=b;a.prototype=Object.create(b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a}},function(f,d){function a(b,c){if(!(this instanceof a))return new a;this._bsontype="BSONRegExp";this.pattern=b;this.options=c;for(var d=0;d<c.length;d++)if("i"!=this.options[d]&&"m"!=this.options[d]&&"x"!=this.options[d]&&"l"!=this.options[d]&&"s"!=this.options[d]&&"u"!=this.options[d])throw Error("the regular expression options ["+this.options[d]+
"] is not supported");}f.exports=a;f.exports.BSONRegExp=a},function(f,d){function a(b){if(!(this instanceof a))return new a(b);this._bsontype="Symbol";this.value=b}a.prototype.valueOf=function(){return this.value};a.prototype.toString=function(){return this.value};a.prototype.inspect=function(){return this.value};a.prototype.toJSON=function(){return this.value};f.exports=a;f.exports.Symbol=a},function(f,d){function a(b,c){if(!(this instanceof a))return new a(b,c);this._bsontype="Timestamp";this.low_=
b|0;this.high_=c|0}a.prototype.toInt=function(){return this.low_};a.prototype.toNumber=function(){return this.high_*a.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};a.prototype.toJSON=function(){return this.toString()};a.prototype.toString=function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(a.MIN_VALUE)){var c=a.fromNumber(b),d=this.div(c),c=d.multiply(c).subtract(this);return d.toString(b)+c.toInt().toString(b)}return"-"+
this.negate().toString(b)}for(var d=a.fromNumber(Math.pow(b,6)),c=this,f="";;){var e=c.div(d),h=c.subtract(e.multiply(d)).toInt().toString(b),c=e;if(c.isZero())return h+f;for(;6>h.length;)h="0"+h;f=""+h+f}};a.prototype.getHighBits=function(){return this.high_};a.prototype.getLowBits=function(){return this.low_};a.prototype.getLowBitsUnsigned=function(){return 0<=this.low_?this.low_:a.TWO_PWR_32_DBL_+this.low_};a.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(a.MIN_VALUE)?
64:this.negate().getNumBitsAbs();for(var b=0!=this.high_?this.high_:this.low_,c=31;0<c&&0==(b&1<<c);c--);return 0!=this.high_?c+33:c+1};a.prototype.isZero=function(){return 0==this.high_&&0==this.low_};a.prototype.isNegative=function(){return 0>this.high_};a.prototype.isOdd=function(){return 1==(this.low_&1)};a.prototype.equals=function(a){return this.high_==a.high_&&this.low_==a.low_};a.prototype.notEquals=function(a){return this.high_!=a.high_||this.low_!=a.low_};a.prototype.lessThan=function(a){return 0>
this.compare(a)};a.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)};a.prototype.greaterThan=function(a){return 0<this.compare(a)};a.prototype.greaterThanOrEqual=function(a){return 0<=this.compare(a)};a.prototype.compare=function(a){if(this.equals(a))return 0;var c=this.isNegative(),d=a.isNegative();return c&&!d?-1:!c&&d?1:this.subtract(a).isNegative()?-1:1};a.prototype.negate=function(){return this.equals(a.MIN_VALUE)?a.MIN_VALUE:this.not().add(a.ONE)};a.prototype.add=function(b){var c=
this.high_>>>16,d=this.high_&65535,f=this.low_>>>16,e=b.high_>>>16,h=b.high_&65535,k=b.low_>>>16,m;m=0+((this.low_&65535)+(b.low_&65535));b=0+(m>>>16);b+=f+k;f=0+(b>>>16);f+=d+h;d=0+(f>>>16);d=d+(c+e)&65535;return a.fromBits((b&65535)<<16|m&65535,d<<16|f&65535)};a.prototype.subtract=function(a){return this.add(a.negate())};a.prototype.multiply=function(b){if(this.isZero()||b.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE))return b.isOdd()?a.MIN_VALUE:a.ZERO;if(b.equals(a.MIN_VALUE))return this.isOdd()?
a.MIN_VALUE:a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().multiply(b.negate()):this.negate().multiply(b).negate();if(b.isNegative())return this.multiply(b.negate()).negate();if(this.lessThan(a.TWO_PWR_24_)&&b.lessThan(a.TWO_PWR_24_))return a.fromNumber(this.toNumber()*b.toNumber());var c=this.high_>>>16,d=this.high_&65535,f=this.low_>>>16,e=this.low_&65535,h=b.high_>>>16,k=b.high_&65535,m=b.low_>>>16;b=b.low_&65535;var q,l,p,y;y=0+e*b;p=0+(y>>>16);p+=f*b;l=0+(p>>>16);p=(p&65535)+
e*m;l+=p>>>16;p&=65535;l+=d*b;q=0+(l>>>16);l=(l&65535)+f*m;q+=l>>>16;l&=65535;l+=e*k;q+=l>>>16;l&=65535;q=q+(c*b+d*m+f*k+e*h)&65535;return a.fromBits(p<<16|y&65535,q<<16|l)};a.prototype.div=function(b){if(b.isZero())throw Error("division by zero");if(this.isZero())return a.ZERO;if(this.equals(a.MIN_VALUE)){if(b.equals(a.ONE)||b.equals(a.NEG_ONE))return a.MIN_VALUE;if(b.equals(a.MIN_VALUE))return a.ONE;var c=this.shiftRight(1).div(b).shiftLeft(1);if(c.equals(a.ZERO))return b.isNegative()?a.ONE:a.NEG_ONE;
var d=this.subtract(b.multiply(c));return c.add(d.div(b))}if(b.equals(a.MIN_VALUE))return a.ZERO;if(this.isNegative())return b.isNegative()?this.negate().div(b.negate()):this.negate().div(b).negate();if(b.isNegative())return this.div(b.negate()).negate();for(var f=a.ZERO,d=this;d.greaterThanOrEqual(b);){for(var c=Math.max(1,Math.floor(d.toNumber()/b.toNumber())),e=Math.ceil(Math.log(c)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),h=a.fromNumber(c),k=h.multiply(b);k.isNegative()||k.greaterThan(d);)c-=e,h=
a.fromNumber(c),k=h.multiply(b);h.isZero()&&(h=a.ONE);f=f.add(h);d=d.subtract(k)}return f};a.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))};a.prototype.not=function(){return a.fromBits(~this.low_,~this.high_)};a.prototype.and=function(b){return a.fromBits(this.low_&b.low_,this.high_&b.high_)};a.prototype.or=function(b){return a.fromBits(this.low_|b.low_,this.high_|b.high_)};a.prototype.xor=function(b){return a.fromBits(this.low_^b.low_,this.high_^b.high_)};a.prototype.shiftLeft=
function(b){b&=63;if(0==b)return this;var c=this.low_;return 32>b?a.fromBits(c<<b,this.high_<<b|c>>>32-b):a.fromBits(0,c<<b-32)};a.prototype.shiftRight=function(b){b&=63;if(0==b)return this;var c=this.high_;return 32>b?a.fromBits(this.low_>>>b|c<<32-b,c>>b):a.fromBits(c>>b-32,0<=c?0:-1)};a.prototype.shiftRightUnsigned=function(b){b&=63;if(0==b)return this;var c=this.high_;return 32>b?a.fromBits(this.low_>>>b|c<<32-b,c>>>b):32==b?a.fromBits(c,0):a.fromBits(c>>>b-32,0)};a.fromInt=function(b){if(-128<=
b&&128>b){var c=a.INT_CACHE_[b];if(c)return c}c=new a(b|0,0>b?-1:0);-128<=b&&128>b&&(a.INT_CACHE_[b]=c);return c};a.fromNumber=function(b){return isNaN(b)||!isFinite(b)?a.ZERO:b<=-a.TWO_PWR_63_DBL_?a.MIN_VALUE:b+1>=a.TWO_PWR_63_DBL_?a.MAX_VALUE:0>b?a.fromNumber(-b).negate():new a(b%a.TWO_PWR_32_DBL_|0,b/a.TWO_PWR_32_DBL_|0)};a.fromBits=function(b,c){return new a(b,c)};a.fromString=function(b,c){if(0==b.length)throw Error("number format error: empty string");var d=c||10;if(2>d||36<d)throw Error("radix out of range: "+
d);if("-"==b.charAt(0))return a.fromString(b.substring(1),d).negate();if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character: '+b);for(var f=a.fromNumber(Math.pow(d,8)),e=a.ZERO,h=0;h<b.length;h+=8){var k=Math.min(8,b.length-h),m=parseInt(b.substring(h,h+k),d);8>k?(k=a.fromNumber(Math.pow(d,k)),e=e.multiply(k).add(a.fromNumber(m))):(e=e.multiply(f),e=e.add(a.fromNumber(m)))}return e};a.INT_CACHE_={};a.TWO_PWR_16_DBL_=65536;a.TWO_PWR_24_DBL_=16777216;a.TWO_PWR_32_DBL_=a.TWO_PWR_16_DBL_*
a.TWO_PWR_16_DBL_;a.TWO_PWR_31_DBL_=a.TWO_PWR_32_DBL_/2;a.TWO_PWR_48_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_16_DBL_;a.TWO_PWR_64_DBL_=a.TWO_PWR_32_DBL_*a.TWO_PWR_32_DBL_;a.TWO_PWR_63_DBL_=a.TWO_PWR_64_DBL_/2;a.ZERO=a.fromInt(0);a.ONE=a.fromInt(1);a.NEG_ONE=a.fromInt(-1);a.MAX_VALUE=a.fromBits(-1,2147483647);a.MIN_VALUE=a.fromBits(0,-2147483648);a.TWO_PWR_24_=a.fromInt(16777216);f.exports=a;f.exports.Timestamp=a},function(f,d,a){var b;(function(c,g){(function(g){var e=function(a){this.message=a};e.prototype=
Error();e.prototype.name="InvalidCharacterError";var h=/[\t\n\f\r ]/g,k={encode:function(a){a=String(a);if(/[^\0-\xFF]/.test(a))throw new e("The string to be encoded contains characters outside of the Latin1 range.");for(var b=a.length%3,c="",d=-1,h,k,g,f=a.length-b;++d<f;)h=a.charCodeAt(d)<<16,k=a.charCodeAt(++d)<<8,g=a.charCodeAt(++d),h=h+k+g,c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>18&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>
12&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>6&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h&63);2==b?(h=a.charCodeAt(d)<<8,k=a.charCodeAt(++d),h+=k,c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>10)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>4&63)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<2&63)+"="):1==b&&(h=a.charCodeAt(d),
c+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h>>2)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(h<<4&63)+"==");return c},decode:function(a){a=String(a).replace(h,"");var b=a.length;0==b%4&&(a=a.replace(/==?$/,""),b=a.length);if(1==b%4||/[^+a-zA-Z0-9/]/.test(a))throw new e("Invalid character: the string to be decoded is not correctly encoded.");for(var c=0,d,k,g="",f=-1;++f<b;)k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a.charAt(f)),
d=c%4?64*d+k:k,c++%4&&(g+=String.fromCharCode(255&d>>(-2*c&6)));return g},version:"0.1.0"};!(b=function(){return k}.call(d,a,d,c),void 0!==b&&(c.exports=b))})(this)}).call(d,a(30)(f),function(){return this}())},function(f,d){f.exports=function(a){a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1);return a}},function(f,d){var a=function(){this.callbacks={};this._id=0;this.cursors={}};a.prototype.id=function(){return this._id++%Number.MAX_VALUE};a.prototype.add=
function(a,c){this.callbacks[a]=c};a.prototype.remove=function(a){var c=this.callbacks[a];delete this.callbacks[a];return c};a.prototype.call=function(a,c,d){if(!this.callbacks[a])throw Error("could not locate callback for id "+a);var f=this.callbacks[a];delete this.callbacks[a];f(c,d)};a.prototype.flush=function(a){for(var c=Object.keys(this.callbacks),d=0;d<c.length;d++)this.call(c[d],a)};a.prototype.update=function(a){this.cursors[a.id]&&("changed"==a.type||"added"==a.type?this.cursors[a.id].emit(a.type,
a.doc,a.fields):"removed"==a.type&&this.cursors[a.id].emit(a.type,a.doc))};a.prototype.liveQuery=function(a){this.cursors[a.liveQueryId]=a};a.prototype.unlisten=function(a){delete this.cursors[a.cursorId]};f.exports=a},function(f,d){var a=function(a){Error.call(this);Object.assign(this,a)};$jscomp.inherits(a,Error);a.captureStackTrace=Error.captureStackTrace;f.exports=a},function(f,d){function a(a){var c=this;"function"===typeof a&&(a=a.call(this));return new Promise(function(e,d){function h(b){var c;
try{c=a.next(b)}catch(e){return d(e)}f(c)}function g(b){var c;try{c=a.throw(b)}catch(e){return d(e)}f(c)}function f(a){if(a.done)return e(a.value);var d=b.call(c,a.value);return d&&n(d)?d.then(h,g):g(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(a.value)+'"'))}h()})}function b(d){if(!d||n(d))return d;var h;h=(h=d.constructor)?"GeneratorFunction"===h.name||"GeneratorFunction"===h.displayName?!0:e(h.prototype):!1;return h||
e(d)?a.call(this,d):"function"==typeof d?c.call(this,d):Array.isArray(d)?Promise.all(d.map(b,this)):Object==d.constructor?g.call(this,d):d}function c(a){var b=this;return new Promise(function(c,e){a.call(b,function(a,b){if(a)return e(a);2<arguments.length&&(b=h.call(arguments,1));c(b)})})}function g(a){function c(a,b){e[b]=void 0;h.push(a.then(function(a){e[b]=a}))}for(var e=new a.constructor,d=Object.keys(a),h=[],g=0;g<d.length;g++){var f=d[g],x=b.call(this,a[f]);x&&n(x)?c(x,f):e[f]=a[f]}return Promise.all(h).then(function(){return e})}
function n(a){return"function"==typeof a.then}function e(a){return"function"==typeof a.next&&"function"==typeof a.throw}var h=Array.prototype.slice;f.exports=a["default"]=a.co=a;a.wrap=function(b){function c(){return a.call(this,b.apply(this,arguments))}c.__generatorFunction__=b;return c}},function(f,d,a){function b(a,d,f){if(5>a.length)return Error("Corrupt bson message < 5 bytes long");var l,p=0,y;d||(d=0);f=f?[]:{};p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;if(5>p||p>a.length)return Error("Corrupt BSON message");
for(;;){l=a[d++];if(0===l)break;for(p=d;0!==a[p];)p++;if(p>=a.length)return Error("Corrupt BSON document: illegal CString");y=a.toString("utf8",d,p);d=p+1;switch(l){case 7:p=Array(12);for(l=0;12>l;l++)p[l]=String.fromCharCode(a[d+l]);d+=12;f[y]=new g(p.join(""));break;case 2:p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;f[y]=a.toString("utf8",d,d+=p-1);d++;break;case 16:f[y]=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;break;case 1:a:{l=p=void 0;for(var B=-7,x=7,z=a[d+x],x=x+-1,p=z&(1<<-B)-1,z=z>>-B,B=B+11;0<
B;p=256*p+a[d+x],x+=-1,B-=8);l=p&(1<<-B)-1;p>>=-B;for(B+=52;0<B;l=256*l+a[d+x],x+=-1,B-=8);if(0===p)p=-1022;else if(2047===p){p=l?NaN:Infinity*(z?-1:1);break a}else l+=Math.pow(2,52),p-=1023;p=(z?-1:1)*l*Math.pow(2,p-52)}f[y]=p;d+=8;break;case 8:f[y]=1==a[d++];break;case 6:case 10:f[y]=null;break;case 4:p=a[d]|a[d+1]<<8|a[d+2]<<16|a[d+3]<<24;f[y]=b(a,d,!0);d+=p;break;case 3:p=a[d]|a[d+1]<<8|a[d+2]<<16|a[d+3]<<24;f[y]=b(a,d,!1);d+=p;break;case 5:p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;a[d++];f[y]=
a.slice(d,d+=p);break;case 9:p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;l=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;f[y]=new Date(4294967296*l+(0>p?p+4294967296:p));break;case 18:p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;l=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24;f[y]=new c(p,l);break;case 127:f[y]=new n;break;case 255:f[y]=new e;break;case 17:p=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24,l=a[d++]|a[d++]<<8|a[d++]<<16|a[d++]<<24,f[y]=new h(p,l)}}return f}var c=a(14),g=a(21),n=a(20),e=a(19),h=a(28);f.exports.deserializeFast=
b},function(f,d,a){var b=a(36),c=a(2).serialize;d=function(a,b,c,d){this.name=a;this.channel=b;this.transport=c;this.store=d};d.prototype.collection=function(a){return new b(a,this)};d.prototype.command=function(a,b){var d=this;b=b||{};return new Promise(function(h,f){var m={_id:d.store.id(),op:c(a)};d.store.add(m._id,function(a,c){if(a)return f(a);h(b.fullResult?c:c.result)});d.transport.write(d.channel,m)})};f.exports=d},function(f,d,a){a(2);var b=a(37),c=a(40);d=function(a,b){this.name=a;this.db=
b;this.namespace=b.name+"."+a};d.prototype.insertOne=function(a,b){return this.db.command(Object.assign({insertOne:this.namespace,doc:a},b||{}))};d.prototype.insertMany=function(a,b){return this.db.command(Object.assign({insertMany:this.namespace,docs:a},b||{}))};d.prototype.updateOne=function(a,b,c){return this.db.command(Object.assign({updateOne:this.namespace,q:a,u:b},c||{}))};d.prototype.updateMany=function(a,b,c){return this.db.command(Object.assign({updateMany:this.namespace,q:a,u:b},c||{}))};
d.prototype.replaceOne=function(a,b,c){return this.db.command(Object.assign({replaceOne:this.namespace,q:a,u:b},c||{}))};d.prototype.deleteOne=function(a,b){return this.db.command(Object.assign({deleteOne:this.namespace,q:a},b||{}))};d.prototype.deleteMany=function(a,b){return this.db.command(Object.assign({deleteMany:this.namespace,q:a},b||{}))};d.prototype.findOneAndDelete=function(a,b){return this.db.command(Object.assign({findOneAndDelete:this.namespace,q:a},b||{}))};d.prototype.findOneAndUpdate=
function(a,b,c){return this.db.command(Object.assign({findOneAndUpdate:this.namespace,q:a,u:b},c||{}))};d.prototype.findOneAndReplace=function(a,b,c){return this.db.command(Object.assign({findOneAndReplace:this.namespace,q:a,u:b},c||{}))};d.prototype.bulkWrite=function(a,b){return this.db.command({ns:this.namespace,bulkWrite:Object.assign({ops:a},b||{})})};d.prototype.find=function(a){return new c(this.db,this,a)};d.prototype.aggregate=function(a){return new b({aggregate:this.namespace,pipeline:a},
this.db,this)};f.exports=d},function(f,d,a){var b=a(38);d=function(a,d,f){b.call(this,a,d,f)};$jscomp.inherits(d,b);d.prototype.batchSize=function(a){this.cmd.cursor||(this.cmd.cursor={});this.options.batchSize=a;this.cmd.cursor.batchSize=a;return this};f.exports=d},function(f,d,a){var b=a(2).Promise;a(2);var c=a(39),g=a(33);d=function(a,b,d){c.call(this);this.cmd=a;this.db=b;this.collection=d;this.state="init";this.documents=[];this.document=this.cursorId=null;this.options={}};$jscomp.inherits(d,
c);d.prototype.setReadPreference=function(a,b){this.options.readPreference={mode:a,tags:b};return this};d.prototype.maxTimeMS=function(a){this.options.maxTimeMS=a;return this};d.prototype.batchSize=function(a){this.options.batchSize=a;return this};d.prototype.hasNext=function(){var a=this;return new b(function(b,c){g(function(){function c(k,m){for(;;)switch(d){case 0:if(!a.document){d=1;break}d=-1;return{value:b(!0),done:!0};case 1:return g=a,d=2,{value:a.next(),done:!1};case 2:if(void 0===m){d=3;
break}d=-1;throw m;case 3:f=k;g.document=f;if(null!=a.document){d=4;break}d=-1;return{value:b(!1),done:!0};case 4:b(!0),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,k={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();k[Symbol.iterator]=function(){return this};return k}).catch(c)})};d.prototype.next=function(){var a=this;return new b(function(b,c){if("destroyed"==a.state)return c(Error("cursor exhausted or destroyed"));if(a.document){var d=
a.document;a.document=null;return b(d)}if(0<a.documents.length)return b(a.documents.shift());if(0==a.documents.length&&"init"==a.state)g(function(){function c(m,q){for(;;)switch(d){case 0:return d=1,{value:a.db.command(a.cmd,{fullResult:!0}),done:!1};case 1:if(void 0===q){d=2;break}d=-1;throw q;case 2:g=k=m;a.connection=g.connection;g=g.result;a.documents=a.documents.concat(g.cursor.firstBatch);a.cursorId=g.cursor.id;a.options.listen&&null!=a.cursorId&&a.db.store.listen(a);f=a.documents.shift();if(void 0!==
f){d=3;break}a.state="destroyed";d=-1;return{value:b(null),done:!0};case 3:a.state="open",b(f),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,k,m={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();m[Symbol.iterator]=function(){return this};return m}).catch(c);else if(0==a.documents.length&&"open"==a.state&&null==a.cursorId)a.state="destroyed",b(null);else if(0==a.documents.length&&"open"==a.state){if(a.cursorId.isZero())return a.state=
"destroyed",b(null);g(function(){function c(q,w){for(;;)switch(d){case 0:return m=n(a.options,["batchSize","maxTimeMS"]),d=1,{value:a.db.command(Object.assign({getMore:a.collection.namespace,cursorId:a.cursorId,connection:a.connection},m),{fullResult:!0}),done:!1};case 1:if(void 0===w){d=2;break}d=-1;throw w;case 2:g=k=q;a.connection=g.connection;g=g.result;a.documents=a.documents.concat(g.cursor.nextBatch);a.cursorId=g.cursor.id;f=a.documents.shift();if(void 0!=f){d=3;break}a.state="destroyed";d=
-1;return{value:b(null),done:!0};case 3:b(f),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,k,m,z={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();z[Symbol.iterator]=function(){return this};return z}).catch(c)}})};d.prototype.toArray=function(){var a=this;return new b(function(b,c){g(function(){function c(m,u){for(;;)switch(d){case 0:return w=[],d=1,{value:a.db.command(a.cmd,{fullResult:!0}),done:!1};case 1:if(void 0===u){d=2;break}d=
-1;throw u;case 2:z=A=m;g=z.connection;z=z.result;w=w.concat(z.cursor.firstBatch);f=z.cursor.id;if(!f.isZero()){d=3;break}d=-1;return{value:b(w),done:!0};case 3:case 4:return x=n(a.options,["batchSize","maxTimeMS"]),d=6,{value:a.db.command(Object.assign({getMore:a.collection.namespace,cursorId:f.toJSON(),connection:g},x),{fullResult:!0}),done:!1};case 6:if(void 0===u){d=7;break}d=-1;throw u;case 7:k=B=m;g=k.connection;k=k.result;w=w.concat(k.cursor.nextBatch);f=k.cursor.id;if(!f.isZero()){d=8;break}d=
5;break;case 8:d=4;break;case 5:b(w),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,k,B,x,z,A,w,u={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();u[Symbol.iterator]=function(){return this};return u}).catch(c)})};d.prototype.destroy=function(){var a=this;return new b(function(b,c){if(null==a.cursorId)return b();g(function(){function c(f,g){for(;;)switch(d){case 0:return d=1,{value:a.db.command({killCursors:[a.cursorId]}),done:!1};case 1:if(void 0===
g){d=2;break}d=-1;throw g;case 2:b(),d=-1;default:return{value:void 0,done:!0}}}var d=0,f={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();f[Symbol.iterator]=function(){return this};return f}).catch(c)})};var n=function(a,b){for(var c={},d=0;d<b.length;d++)a[b[d]]&&(c[b[d]]=a[b[d]]);return c};f.exports=d},function(f,d,a){var b=a(33),c=a(2).nextTick;d=function(){this._events={}};d.prototype.emit=function(a,b){var c=Array.prototype.slice.call(arguments,
1);if(this._events[a])for(var d=0;d<this._events[a].length;d++)this._events[a][d].apply(this._events[a][d],c)};d.prototype.on=function(a,d){var e=this;this._events[a]||(this._events[a]=[]);this._events[a].push(d);if("data"==a&&1==this._events[a].length){var h=function(){b(function(){function a(g,k){for(;;)switch(b){case 0:return b=1,{value:e.next(),done:!1};case 1:if(void 0===k){b=2;break}b=-1;throw k;case 2:if(d=f=g){b=3;break}b=-1;return{value:e.emit("end"),done:!0};case 3:d&&e.emit("data",d),c(h),
b=-1;default:return{value:void 0,done:!0}}}var b=0,d,f,g={next:function(b){return a(b,void 0)},throw:function(b){return a(void 0,b)}};$jscomp.initSymbolIterator();g[Symbol.iterator]=function(){return this};return g}).catch(function(a){e.emit("error",a)})};c(h)}};f.exports=d},function(f,d,a){var b=a(2).Promise,c=a(39),g=a(33),n=0;d=function(a,b,d){c.call(this);this.db=a;this.collection=b;this.query=d;this.state="init";this.documents=[];this.document=this.cursorId=null;this.options={}};$jscomp.inherits(d,
c);d.prototype.setReadPreference=function(a,b){this.options.readPreference={mode:a,tags:b};return this};d.prototype.projection=function(a){this.options.projection=a;return this};d.prototype.comment=function(a){this.options.comment=a;return this};d.prototype.hint=function(a){this.options.hint=a;return this};d.prototype.maxTimeMS=function(a){this.options.maxTimeMS=a;return this};d.prototype.sort=function(a){this.options.sort=a;return this};d.prototype.limit=function(a){this.options.limit=a;return this};
d.prototype.skip=function(a){this.options.skip=a;return this};d.prototype.batchSize=function(a){this.options.batchSize=a;return this};d.prototype.noCursorTimeout=function(){this.options.noCursorTimeout=!0;return this};d.prototype.liveQuery=function(){this.options.liveQuery=!0;this.options.liveQueryId=n++;return this};d.prototype.tailable=function(a){this.options=Object.assign(this.options,{tailable:!0,awaitData:!0},a||{});return this};d.prototype.count=function(){var a=this;return new b(function(b,
c){g(function(){function b(d,e){for(;;)switch(c){case 0:return c=1,{value:a.db.command(Object.assign({count:a.collection.namespace,query:a.query}),a.options),done:!1};case 1:if(void 0===e){c=2;break}c=-1;throw e;case 2:c=-1;default:return{value:void 0,done:!0}}}var c=0,d={next:function(a){return b(a,void 0)},throw:function(a){return b(void 0,a)}};$jscomp.initSymbolIterator();d[Symbol.iterator]=function(){return this};return d})})};d.prototype.hasNext=function(){var a=this;return new b(function(b,
c){g(function(){function c(g,m){for(;;)switch(d){case 0:if(!a.document){d=1;break}d=-1;return{value:b(!0),done:!0};case 1:return f=a,d=2,{value:a.next(),done:!1};case 2:if(void 0===m){d=3;break}d=-1;throw m;case 3:e=g;f.document=e;if(null!=a.document){d=4;break}d=-1;return{value:b(!1),done:!0};case 4:b(!0),d=-1;default:return{value:void 0,done:!0}}}var d=0,e,f,g={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();g[Symbol.iterator]=function(){return this};
return g}).catch(c)})};d.prototype.next=function(){var a=this;return new b(function(b,c){if("destroyed"==a.state)return c(Error("cursor exhausted or destroyed"));if(a.document){var d=a.document;a.document=null;return b(d)}if(0<a.documents.length)return b(a.documents.shift());if(0==a.documents.length&&"init"==a.state)g(function(){function c(l,q){for(;;)switch(d){case 0:return n=e(a.options,"readPreference sort projection hint skip limit batchSize singleBatch comment maxScan maxTimeMS readConcern max min returnKey showRecordId snapshot tailable oplogReply noCursorTimeout awaitData allowPartialResults liveQuery liveQueryId".split(" ")),
d=1,{value:a.db.command(Object.assign({find:a.collection.namespace,filter:a.query},n),{fullResult:!0}),done:!1};case 1:if(void 0===q){d=2;break}d=-1;throw q;case 2:g=m=l;a.connection=g.connection;g=g.result;a.documents=a.documents.concat(g.cursor.firstBatch);a.cursorId=g.cursor.id;a.options.liveQuery&&null!=a.options.liveQueryId&&a.db.store.liveQuery(a);f=a.documents.shift();if(void 0!==f){d=3;break}a.state="destroyed";d=-1;return{value:b(null),done:!0};case 3:a.state="open",b(f),d=-1;default:return{value:void 0,
done:!0}}}var d=0,f,g,m,n,q={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();q[Symbol.iterator]=function(){return this};return q}).catch(c);else if(0==a.documents.length&&"open"==a.state&&a.cursorId.isZero())a.state="destroyed",b(null);else if(0==a.documents.length&&"open"==a.state){if(a.cursorId.isZero())return a.state="destroyed",b(null);g(function(){function c(l,q){for(;;)switch(d){case 0:return n=e(a.options,["batchSize","maxTimeMS"]),d=
1,{value:a.db.command(Object.assign({getMore:a.collection.namespace,cursorId:a.cursorId,connection:a.connection},n),{fullResult:!0}),done:!1};case 1:if(void 0===q){d=2;break}d=-1;throw q;case 2:g=m=l;a.connection=g.connection;g=g.result;a.documents=a.documents.concat(g.cursor.nextBatch);a.cursorId=g.cursor.id;f=a.documents.shift();if(void 0!=f){d=3;break}a.state="destroyed";d=-1;return{value:b(null),done:!0};case 3:b(f),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,m,n,q={next:function(a){return c(a,
void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();q[Symbol.iterator]=function(){return this};return q}).catch(c)}})};d.prototype.toArray=function(){var a=this;return new b(function(b,c){g(function(){function c(q,t){for(;;)switch(d){case 0:return u=[],z=e(a.options,"readPreference sort projection hint skip limit batchSize singleBatch comment maxScan maxTimeMS readConcern max min returnKey showRecordId snapshot tailable oplogReply noCursorTimeout awaitData allowPartialResults liveQuery liveQueryId".split(" ")),
d=1,{value:a.db.command(Object.assign({find:a.collection.namespace,filter:a.query},z),{fullResult:!0}),done:!1};case 1:if(void 0===t){d=2;break}d=-1;throw t;case 2:A=w=q;g=A.connection;A=A.result;a.options.liveQuery&&null!=a.options.liveQueryId&&a.db.store.liveQuery(a);u=u.concat(A.cursor.firstBatch);f=A.cursor.id;if(!f.isZero()){d=3;break}d=-1;return{value:b(u),done:!0};case 3:case 4:return z={},a.options.batchSize&&(z.batchSize=a.options.batchSize),a.options.maxTimeMS&&(z.maxTimeMS=a.options.maxAwaitTimeMS),
d=6,{value:a.db.command(Object.assign({getMore:a.collection.namespace,cursorId:f.toJSON(),connection:g},z),{fullResult:!0}),done:!1};case 6:if(void 0===t){d=7;break}d=-1;throw t;case 7:m=n=q;g=m.connection;m=m.result;u=u.concat(m.cursor.nextBatch);f=m.cursor.id;if(!f.isZero()){d=8;break}d=5;break;case 8:d=4;break;case 5:b(u),d=-1;default:return{value:void 0,done:!0}}}var d=0,f,g,m,n,z,A,w,u,v={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();
v[Symbol.iterator]=function(){return this};return v}).catch(c)})};d.prototype.destroy=function(){var a=this;return new b(function(b,c){if(null==a.cursorId)return b();g(function(){function c(e,f){for(;;)switch(d){case 0:return d=1,{value:a.db.command({killCursors:[a.cursorId]}),done:!1};case 1:if(void 0===f){d=2;break}d=-1;throw f;case 2:b(),d=-1;default:return{value:void 0,done:!0}}}var d=0,e={next:function(a){return c(a,void 0)},throw:function(a){return c(void 0,a)}};$jscomp.initSymbolIterator();
e[Symbol.iterator]=function(){return this};return e}).catch(c)})};Object.defineProperties(d.prototype,{liveQueryId:{configurable:!0,enumerable:!0,get:function(){return this.options.liveQueryId}}});var e=function(a,b){for(var c={},d=0;d<b.length;d++)null!=a[b[d]]&&(c[b[d]]=a[b[d]]);return c};f.exports=d},function(f,d,a){var b=a(2).Promise,c=a(39),g=function(a){c.call(this);var b=this;this.socket=a;b.socket.on("connect",function(a){b.emit("connect")});b.socket.on("connect_error",function(a){b.emit("error",
a)})};$jscomp.inherits(g,c);g.prototype.onChannel=function(a,b){this.socket.on(a,b)};g.prototype.write=function(a,b){this.socket.emit(a,b)};d=function(a,b){this.ioClientConnect=a;this.options=b||{};this.socket=null};d.prototype.connect=function(a,c){var d=this;return new b(function(b,c){try{d.socket=d.ioClientConnect(a),b(new g(d.socket))}catch(e){c(e)}})};d.prototype.on=function(){};d.prototype.emit=function(){};f.exports=d}]);
}).call(this)
